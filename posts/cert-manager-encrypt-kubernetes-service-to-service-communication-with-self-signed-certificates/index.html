<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Cert-Manager: Encrypt Kubernetes service to service communication with self-signed certificates</title>
<link rel="stylesheet" href="/assets/built/screen.css?v=ce0a9a97d4">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,700;1,400;1,700&family=Mulish:ital,wght@0,400;0,700;0,800;1,400;1,700&display=swap">
<script>
        if (localStorage.getItem('alto_dark') == 'true') {
            document.documentElement.classList.add('dark-mode');
        }
    </script>
<link rel="icon" href="https://digitalpress.fra1.cdn.digitaloceanspaces.com/clrvv0c/2023/04/code-branch.png" type="image/png">
<link rel="canonical" href="https://realvz.github.io/blog/cert-manager-encrypt-kubernetes-service-to-service-communication-with-self-signed-certificates/">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta property="og:site_name" content="Re Alvarez Parmar&#x27;s Blog">
<meta property="og:type" content="article">
<meta property="og:title" content="Cert-Manager: Encrypt Kubernetes service to service communication with self-signed certificates">
<meta property="og:description" content="Cert-manager is an open-source certificate management solution for Kubernetes clusters. It automates the issuance, renewal, and management of SSL/TLS certificates within a Kubernetes environment. Cert-manager is crucial in securing communication between services, encrypting HTTP traffic, and establishing secure connections to external systems.

Cert-manager integrates with popular certificate authorities (CAs)">
<meta property="og:url" content="https://realvz.github.io/blog/cert-manager-encrypt-kubernetes-service-to-service-communication-with-self-signed-certificates/">
<meta property="og:image" content="https://images.unsplash.com/photo-1533922829859-83c5b158a336?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDh8fGVuY3J5cHRpb24lMjBpbiUyMG1vdGlvbnxlbnwwfHx8fDE2ODc1NjM2MTJ8MA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;2000content/images/size/w1200">
<meta property="article:published_time" content="2023-06-23T23:41:23.000Z">
<meta property="article:modified_time" content="2023-06-23T23:50:25.000Z">
<meta property="article:tag" content="Kubernetes">
<meta property="article:tag" content="Security">
<meta property="article:tag" content="cert-manager">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Cert-Manager: Encrypt Kubernetes service to service communication with self-signed certificates">
<meta name="twitter:description" content="Cert-manager is an open-source certificate management solution for Kubernetes clusters. It automates the issuance, renewal, and management of SSL/TLS certificates within a Kubernetes environment. Cert-manager is crucial in securing communication between services, encrypting HTTP traffic, and establishing secure connections to external systems.

Cert-manager integrates with popular certificate authorities (CAs)">
<meta name="twitter:url" content="https://realvz.github.io/blog/cert-manager-encrypt-kubernetes-service-to-service-communication-with-self-signed-certificates/">
<meta name="twitter:image" content="https://images.unsplash.com/photo-1533922829859-83c5b158a336?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDh8fGVuY3J5cHRpb24lMjBpbiUyMG1vdGlvbnxlbnwwfHx8fDE2ODc1NjM2MTJ8MA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;2000content/images/size/w1200">
<meta name="twitter:label1" content="Written by">
<meta name="twitter:data1" content="Re Alvarez Parmar">
<meta name="twitter:label2" content="Filed under">
<meta name="twitter:data2" content="Kubernetes, Security, cert-manager">
<meta name="twitter:site" content="@realz">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="800">
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Re Alvarez Parmar&#x27;s Blog",
        "url": "https://realvz.github.io/blog/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://digitalpress.fra1.cdn.digitaloceanspaces.com/clrvv0c/2023/04/code-branch.png",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "Re Alvarez Parmar",
        "image": {
            "@type": "ImageObject",
            "url": "https://www.gravatar.com/avatar/2ea5788958b69e3c318e7b5c1562a2b4?s=250&r=x&d=mp",
            "width": 250,
            "height": 250
        },
        "url": "https://realvz.github.io/blog/author/re/",
        "sameAs": []
    },
    "headline": "Cert-Manager: Encrypt Kubernetes service to service communication with self-signed certificates",
    "url": "https://realvz.github.io/blog/cert-manager-encrypt-kubernetes-service-to-service-communication-with-self-signed-certificates/",
    "datePublished": "2023-06-23T23:41:23.000Z",
    "dateModified": "2023-06-23T23:50:25.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://images.unsplash.com/photo-1533922829859-83c5b158a336?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8c2VhcmNofDh8fGVuY3J5cHRpb24lMjBpbiUyMG1vdGlvbnxlbnwwfHx8fDE2ODc1NjM2MTJ8MA&ixlib=rb-4.0.3&q=80&w=2000content/images/size/w1200",
        "width": 1200,
        "height": 800
    },
    "keywords": "Kubernetes, Security, cert-manager",
    "description": "Cert-manager is an open-source certificate management solution for Kubernetes clusters. It automates the issuance, renewal, and management of SSL/TLS certificates within a Kubernetes environment. Cert-manager is crucial in securing communication between services, encrypting HTTP traffic, and establishing secure connections to external systems.\n\nCert-manager integrates with popular certificate authorities (CAs) such as Let&#x27;s Encrypt, Venafi, and HashiCorp Vault to get certificates. It acts as a b",
    "mainEntityOfPage": "https://realvz.github.io/blog/cert-manager-encrypt-kubernetes-service-to-service-communication-with-self-signed-certificates/"
}
    </script>
<meta name="generator" content="Ghost 5.79">
<link rel="alternate" type="application/rss+xml" title="Re Alvarez Parmar&#x27;s Blog" href="https://realvz.github.io/blog/rss/">
<script defer src="https://cdn.jsdelivr.net/ghost/portal@~2.37/umd/portal.min.js" data-i18n="false" data-ghost="https://realvz.github.io/blog/" data-key="875679d7145ae8b3c4db5168c2" data-api="https://realvz.github.io/blog/ghost/api/content/" crossorigin="anonymous"></script><style id="gh-members-styles">.gh-post-upgrade-cta-content,
.gh-post-upgrade-cta {
    display: flex;
    flex-direction: column;
    align-items: center;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    text-align: center;
    width: 100%;
    color: #ffffff;
    font-size: 16px;
}

.gh-post-upgrade-cta-content {
    border-radius: 8px;
    padding: 40px 4vw;
}

.gh-post-upgrade-cta h2 {
    color: #ffffff;
    font-size: 28px;
    letter-spacing: -0.2px;
    margin: 0;
    padding: 0;
}

.gh-post-upgrade-cta p {
    margin: 20px 0 0;
    padding: 0;
}

.gh-post-upgrade-cta small {
    font-size: 16px;
    letter-spacing: -0.2px;
}

.gh-post-upgrade-cta a {
    color: #ffffff;
    cursor: pointer;
    font-weight: 500;
    box-shadow: none;
    text-decoration: underline;
}

.gh-post-upgrade-cta a:hover {
    color: #ffffff;
    opacity: 0.8;
    box-shadow: none;
    text-decoration: underline;
}

.gh-post-upgrade-cta a.gh-btn {
    display: block;
    background: #ffffff;
    text-decoration: none;
    margin: 28px 0 0;
    padding: 8px 18px;
    border-radius: 4px;
    font-size: 16px;
    font-weight: 600;
}

.gh-post-upgrade-cta a.gh-btn:hover {
    opacity: 0.92;
}</style>
<script defer src="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/sodo-search.min.js" data-key="875679d7145ae8b3c4db5168c2" data-styles="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/main.css" data-sodo-search="https://realvz.github.io/blog/" crossorigin="anonymous"></script>
<link href="https://realvz.github.io/blog/webmentions/receive/" rel="webmention">
<script defer src="/public/cards.min.js?v=ce0a9a97d4"></script>
<link rel="stylesheet" type="text/css" href="/public/cards.min.css?v=ce0a9a97d4">
<script defer src="/public/member-attribution.min.js?v=ce0a9a97d4"></script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-B5XRB3YVTR"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B5XRB3YVTR');
</script><style>:root {--ghost-accent-color: #3a88fe;}</style>
</head>
<body class="post-template tag-kubernetes tag-security tag-cert-manager has-serif-title has-serif-body">
<div class="site">
<header class="site-header container">
<div class="navbar">
<div class="navbar-left">
<div class="burger hidden-lg hidden-xl"></div>
<a class="logo" href="https://realvz.github.io/blog">
<span class="logo-text">Re Alvarez Parmar&#x27;s Blog</span>
</a> <div class="sep hidden-xs hidden-sm hidden-sm"></div>
<nav class="main-menu hidden-xs hidden-sm hidden-md">
<ul class="nav-list u-plain-list">
<li class="menu-item menu-item-home"><a class="menu-item-link" href="https://realvarez.com">Home</a></li>
<li class="menu-item menu-item-about"><a class="menu-item-link" href="https://realvz.github.io/blog/about/">About</a></li>
</ul>
</nav>
</div>
<div class="navbar-right">
<div class="toggle-track">
<div class="toggle-moon"><i class="icon icon-brightness-2"></i></div>
<div class="toggle-sun"><i class="icon icon-white-balance-sunny"></i></div>
<div class="toggle-thumb"></div>
</div>
</div>
</div>
</header> <div class="site-content">
<div class="content-area">
<main class="site-main">
<article class="post tag-kubernetes tag-security tag-cert-manager single-post">
<header class="post-header big-title container medium">
<h1 class="post-title">Cert-Manager: Encrypt Kubernetes service to service communication with self-signed certificates</h1>
<div class="post-meta">
<span class="post-meta-item post-meta-date">
<time datetime="2023-06-23">Jun 23, 2023</time>
</span>
<span class="post-meta-item post-meta-length">
9 min read
</span>
<span class="post-meta-item post-meta-tags">
<a class="post-tag post-tag-kubernetes" href="/tag/kubernetes/" title="Kubernetes">Kubernetes</a><a class="post-tag post-tag-security" href="/tag/security/" title="Security">Security</a><a class="post-tag post-tag-cert-manager" href="/tag/cert-manager/" title="cert-manager">cert-manager</a>
</span>
</div>
</header> <figure class="post-media container large">
<div class="u-placeholder horizontal">
<a class="post-image-link" href="/cert-manager-encrypt-kubernetes-service-to-service-communication-with-self-signed-certificates/">
<img class="post-image lazyload u-object-fit" data-srcset="https://images.unsplash.com/photo-1533922829859-83c5b158a336?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDh8fGVuY3J5cHRpb24lMjBpbiUyMG1vdGlvbnxlbnwwfHx8fDE2ODc1NjM2MTJ8MA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;400 400w, https://images.unsplash.com/photo-1533922829859-83c5b158a336?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDh8fGVuY3J5cHRpb24lMjBpbiUyMG1vdGlvbnxlbnwwfHx8fDE2ODc1NjM2MTJ8MA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;750 750w, https://images.unsplash.com/photo-1533922829859-83c5b158a336?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDh8fGVuY3J5cHRpb24lMjBpbiUyMG1vdGlvbnxlbnwwfHx8fDE2ODc1NjM2MTJ8MA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;960 960w, https://images.unsplash.com/photo-1533922829859-83c5b158a336?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDh8fGVuY3J5cHRpb24lMjBpbiUyMG1vdGlvbnxlbnwwfHx8fDE2ODc1NjM2MTJ8MA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;1140 1140w, https://images.unsplash.com/photo-1533922829859-83c5b158a336?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDh8fGVuY3J5cHRpb24lMjBpbiUyMG1vdGlvbnxlbnwwfHx8fDE2ODc1NjM2MTJ8MA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;1920 1920w" data-sizes="auto" src="https://images.unsplash.com/photo-1533922829859-83c5b158a336?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDh8fGVuY3J5cHRpb24lMjBpbiUyMG1vdGlvbnxlbnwwfHx8fDE2ODc1NjM2MTJ8MA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;960" srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Cert-Manager: Encrypt Kubernetes service to service communication with self-signed certificates">
</a>
</div>
<figcaption>Photo by <a href="https://unsplash.com/@dayday95?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit">Damon Lam</a> / <a href="https://unsplash.com/?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit">Unsplash</a></figcaption>
</figure>
<div class="post-content gh-content kg-canvas">
<p>Cert-manager is an open-source certificate management solution for Kubernetes clusters. It automates the issuance, renewal, and management of SSL/TLS certificates within a Kubernetes environment. Cert-manager is crucial in securing communication between services, encrypting HTTP traffic, and establishing secure connections to external systems.</p><p>Cert-manager integrates with popular certificate authorities (CAs) such as <a href="https://letsencrypt.org/?ref=blog.realvarez.com">Let's Encrypt</a>, <a href="https://venafi.com/?utm_adgroup=131519153019&gclid=CjwKCAjwhdWkBhBZEiwA1ibLmO96fec69F8BPVPLODTo-D68AsjnSZfHFE_HRF56FDxXzcxtFUM3WxoCMvQQAvD_BwE&utm_medium=cpc&utm_term=venafi&utm_content=hp&utm_source=gog&utm_campaign=15633869885">Venafi</a>, and <a href="https://www.vaultproject.io/?ref=blog.realvarez.com">HashiCorp Vault</a> to get certificates. It acts as a bridge between Kubernetes and these CAs, handling the certificate lifecycle management process.</p><p>I recently helped a customer create a self-signed CA. While researching, I found that there were no examples showing how to use self-signed private CA with cert-manager. There are plenty of examples about Let's Encrypt, Venafi, and <a href="https://aws.amazon.com/private-ca/?ref=blog.realvarez.com">AWS ACM Private CA</a>. But none when you want to issue client certificates using a self-signed CA. This post shows how to create a private CA in cert-manager and generate client certificates using <a href="https://cert-manager.io/docs/usage/csi/?ref=blog.realvarez.com">cert-manager CSI driver</a>.</p><h2 id="setup-cert-manager">Setup cert-manager</h2><p>Let's start by setting cert-manager in your Kubernetes cluster. We'll use Helm for installation. Cert-manager website includes alternate <a href="https://cert-manager.io/docs/installation/?ref=blog.realvarez.com">installation methods</a> if Helm doesn't work for you.  If you use Amazon EKS, there are EKS Blueprints to install cert-manager and cert-manager CSI driver (<a href="https://aws-ia.github.io/terraform-aws-eks-blueprints/add-ons/cert-manager/?ref=blog.realvarez.com">Terraform</a>, <a href="https://aws-quickstart.github.io/cdk-eks-blueprints/addons/cert-manager/?ref=blog.realvarez.com">CDK</a>) .</p><p>Use Helm to install cert-manager and cert-manager CSI driver:</p><pre><code>helm repo add jetstack https://charts.jetstack.io --force-update

helm install \
  cert-manager jetstack/cert-manager \
  --namespace cert-manager \
  --create-namespace \
  --version v1.12.0 \
  --set installCRDs=true

helm upgrade -i \
  cert-manager-csi-driver \
  jetstack/cert-manager-csi-driver \
  --namespace cert-manager \
  --wait
</code></pre><p>You should now have the following pods running in the <code>cert-manager</code> namespace:</p><pre><code>$ kubectl get pods -n cert-manager
NAME                                      READY   STATUS    RESTARTS      AGE
cert-manager-559b5d5b7d-gr8rt             1/1     Running   0             1h
cert-manager-cainjector-f5c6565d4-z8hzg   1/1     Running   0             1h
cert-manager-csi-driver-c8jmg             3/3     Running   0             1h
cert-manager-csi-driver-vkq5d             3/3     Running   0             1h
cert-manager-webhook-5f44bc85f4-ghqkm     1/1     Running   0             1h
</code></pre><p>Cert-manager-cainjector is a component of cert manager that injects certificate-related data into pods running in the cluster.It injects certificates, private keys, and other cryptographic material into application workloads, making them readily available to secure communication within the cluster.<br>By injecting certificates directly into the pods, cert-manager-cainjector eliminates the need for manual configuration or mounting of certificates.  It simplifies securing communication between services within the Kubernetes cluster. Cert-manager-cainjector automatically updates and rotates certificates according to the defined policy</p><h3 id="create-a-private-certificate-authority-ca">Create a Private Certificate Authority (CA)</h3><p>Next, we'll create private CA, which cert-manager will use to issue and manage certificates for services that run in your cluster.</p><p>Cert-manager has two issuers that create client and CA certificates: <strong>ClusterIssuer</strong> and <strong>Issuer</strong>. The fundamental difference between ClusterIssuer and Issuer is their scope. Issuer is limited to a specific namespace, while ClusterIssuer has a cluster-wide scope.</p><p>An Issuer can only create certificates within the same namespace where it is defined. A ClusterIssuer can issue certificates across multiple namespaces in a Kubernetes cluster. For example, if you have a web application deployed in the "webapp" namespace and you want to issue certificates for that specific namespace, you can define an Issuer resource within the "webapp" namespace. If you have a cluster-wide API service that needs to communicate securely with services in other namespaces, you can define a ClusterIssuer to issue certificates for all those namespaces.</p><p>I'll create a ClusterIssuer to issue a root certificate and an Issuer to create service certificates. The Issuer resource is created in <code>sandbox</code> namespace where I'll create a TLS server later in the post. If I create more namespaces, I can create Issuers in those namespaces and use the ClusterIssuer to issue certificates using the private CA.</p><p>Create a ClusterIssuer, a root certificate, and an Issuer:</p><pre><code class="language-yaml">cat &lt;&lt; EOF &gt; cert-manager-resources.yaml
apiVersion: v1
kind: Namespace
metadata:
  name: sandbox
---
apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: selfsigned-issuer
spec:
  selfSigned: {}
---
apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: my-selfsigned-ca
  namespace: sandbox
spec:
  isCA: true
  commonName: my-selfsigned-ca
  secretName: root-secret
  privateKey:
    algorithm: ECDSA
    size: 256
  issuerRef:
    name: selfsigned-issuer
    kind: ClusterIssuer
    group: cert-manager.io
---
apiVersion: cert-manager.io/v1
kind: Issuer
metadata:
  name: my-ca-issuer
  namespace: sandbox
spec:
  ca:
    secretName: root-secret
EOF

kubectl apply -f cert-manager-resources.yaml
</code></pre><h3 id="create-sample-workloads-to-test-encryption">Create sample workloads to test encryption</h3><p>With cert-manager setup, let's create a TLS server. The key thing to note about service certificates is that we need to specify the <strong>Common Name</strong> (also known as CN) when creating a certificate. The CN represents the DNS name of the service the certificate is protecting.</p><p>Say, you're hosting your service at service.example.com, then you'd have to specify service.example.com as the CN. If a client tries to access this service using an alternate name (e.g., service.subdomain.example.com) it will get an SSL error.</p><p>In a Kubernetes cluster, a service can have multiple DNS names. For example, a service called <code>my-simple-service</code>, can also be called <code>my-simple-service.my-namespace.svc</code>, <code>my-simple-service.my-namespace.svc.cluster.local</code>, or example.com/mysimpleservice depending on how clients access the service. So, when generating a certificate for a Kubernetes service, we need to ensure that the certificate is also valid for all alternate DNS names.</p><p>When generating a certificate for a service that's accessible at multiple DNS names, you'll have to include all alternate DNS names in the certificate. This type of certificate is called a <strong>Subject Alternate Name</strong> (or SAN) certificate as it allows multiple hostnames to be protected by a single certificate.</p><p>If you were to manually generate a certificate with alternate names, the <a href="https://gist.github.com/KeithYeh/bb07cadd23645a6a62509b1ec8986bbc?ref=blog.realvarez.com">process is pretty tedious</a>.  Cert-manager simplifies this process. You can create a Certificate resource with alternate names like this:</p><pre><code>apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: sample-certificate
spec:
  secretName: sample-certificate-secret
  issuerRef:
    name: private-ca-issuer
    kind: Issuer
  commonName: example.com
  dnsNames:
    - example.com
    - www.example.com
  ipAddresses:
    - 192.168.0.1
</code></pre><p>When you create a certificate, cert-manager creates a Kubernetes secret in the same namespace. You can then mount this secret in your pods.</p><p>But, there's an even easier way to get certificates for your applications. This is where <a href="https://cert-manager.io/docs/usage/certificate/?ref=blog.realvarez.com">cert-manager CSI driver</a> comes in. You can use cert-manager CSI driver to create service certificates on the fly. You can define certificates request right in your pod template.  It runs as daemonset and creates certificates without creating a secret. Your keys are stored on the node and they never leave the node.</p><p>Here are benefits of using cert-manager CSI driver:</p><ul><li>Ensure private keys never leave the node and are never sent over the network. All private keys are stored locally on the node.</li><li>Unique key and certificate per application replica with a grantee to be present on application run time.</li><li>Reduce resource management overhead by defining certificate request spec in-line of the Kubernetes Pod template.</li><li>Automatic renewal of certificates based on expiry of each individual certificate.</li><li>Keys and certificates are destroyed during application termination.</li><li>Scope for extending plugin behavior with visibility on each replica's certificate request and termination.</li></ul><p>Create a sample web service:</p><pre><code>cat &lt;&lt; EOF &gt; https-server-using-csi-driver.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  labels:
    app: sample-api
  name: sample-api
  namespace: sandbox
spec:
  replicas: 1
  selector:
    matchLabels:
      app: sample-api
  template:
    metadata:
      labels:
        app: sample-api
    spec:
      restartPolicy: Always
      volumes:
      - name: tls
        csi:
          driver: csi.cert-manager.io
          readOnly: true
          volumeAttributes:
             csi.cert-manager.io/issuer-name: my-ca-issuer
             csi.cert-manager.io/dns-names: \${POD_NAME}.\${POD_NAMESPACE}.svc.cluster.local,sample-api-service.sandbox.svc.cluster.local,sample-api-service.sandbox.svc.,sample-api-service.
      containers:
      - name: sample-api
        image: public.ecr.aws/k9t3d5o9/secureservice:latest
        volumeMounts:
        - mountPath: "/etc/tls"
          name: tls
          readOnly: true
        ports:
        - containerPort: 8443
---
apiVersion: v1
kind: Service
metadata:
  labels:
    app: sample-api-service
  name: sample-api-service
  namespace: sandbox
spec:
  ports:
  - port: 443
    protocol: TCP
    targetPort: 8443
  selector:
    app: sample-api
  type: ClusterIP
EOF

kubectl apply -f https-server-using-csi-driver.yaml
</code></pre><p>In the template, I've created a volume of type <code>csi.driver = csi.cert-manager.io</code>. I've also specified the Issuer <code>csi.cert-manager.io/issuer-name: my-ca-issuer</code>, which is the Issuer I created earlier in the post. Finally, I've also added all the DNS names at which my service is accessible using <code>csi.cert-manager.io/dns-names: \${POD_NAME}.\${POD_NAMESPACE}.svc.cluster.local,sample-api-service.sandbox.svc.cluster.local,sample-api-service.sandbox.svc.,sample-api-service</code>.</p><p>The container image runs a simple Python HTTPS server. The code uses a PEM file to load certificates. I use the <code>tls.crt</code> and <code>tls.key</code> files that the CSI driver creates to generate the PEM file.</p><pre><code>cat /etc/tls/tls.crt /etc/tls/tls.key &gt; tls.pem
</code></pre><p>Here's the code for the HTTPS server:</p><pre><code class="language-python">import ssl
from http.server import HTTPServer, BaseHTTPRequestHandler

class SimpleHTTPRequestHandler(BaseHTTPRequestHandler):
    def do_GET(self):
        self.send_response(200)
        self.send_header('Content-type', 'text/html')
        self.end_headers()
        self.wfile.write(b'&lt;h1&gt;Serving page securely&lt;/h1&gt;')

def run(server_class, handler_class, pem_file, port):
    server_address = ('0.0.0.0', port)
    httpd = server_class(server_address, handler_class)
    httpd.socket = ssl.wrap_socket(httpd.socket, certfile=pem_file, server_side=True)
    print(f'Starting server on port {port}...')
    httpd.serve_forever()

if __name__ == '__main__':
    pem_file = 'tls.pem'
    port = 8443
    run(HTTPServer, SimpleHTTPRequestHandler, pem_file, port)
</code></pre><h3 id="create-a-client">Create a client</h3><p>Next we want to make sure that the certificate works. If I access this service with a web browser, I'll get an error stating the certificate is invalid. That's because it is a self-signed certificate. My browser rightfully doesn't trust the CA I just created. But if I import the root certificate, then I'll be able to access the service securely without an invalid certificate error.</p><p>Let's create a client application and we'll use <code>curl</code> to access the service:</p><pre><code>cat &lt;&lt; EOF &gt; client-app.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  labels:
    app: sample-api-client
  name: sample-api-client
  namespace: sandbox
spec:
  replicas: 1
  selector:
    matchLabels:
      app: sample-api-client
  template:
    metadata:
      labels:
        app: sample-api-client
    spec:
      volumes:
      - name: tls
        csi:
          driver: csi.cert-manager.io
          readOnly: true
          volumeAttributes:
             csi.cert-manager.io/issuer-name: my-ca-issuer
      containers:
      - name: sample-api
        image: alpine/curl
        command: ["/bin/sh", "-c"]
        args: ["while true; do sleep 30; done"]
        volumeMounts:
        - mountPath: "/etc/tls"
          name: tls
          readOnly: true
EOF

kubectl apply -f client-app.yaml
</code></pre><p>Note that since this is a client application, I am not specifying any dns-names.</p><p>Now let's test connecting from the client to the service:</p><pre><code>kubectl -n sandbox get pods -l app=sample-api-client -o name \
  | xargs -I{} kubectl -n sandbox exec {} -- \
  curl -s https://sample-api-service
</code></pre><p>I get an error:</p><pre><code>curl: (60) SSL certificate problem: unable to get local issuer certificate

curl failed to verify the legitimacy of the server and therefore could not
establish a secure connection to it. To learn more about this situation and
how to fix it, please visit the web page mentioned above.
command terminated with exit code 60
</code></pre><p>This is because I have to specify the root certificate (as this is a self-signed certificate). Let's specify the root certificate this time using curl's <code>--cacert</code> option.</p><pre><code>kubectl -n sandbox get pods -l app=sample-api-client -o name \
  | xargs -I{} kubectl -n sandbox exec {} -- \
  curl -s https://sample-api-service --cacert /etc/tls/ca.crt
</code></pre><figure class="kg-card kg-image-card"><img src="https://digitalpress.fra1.cdn.digitaloceanspaces.com/clrvv0c/2023/06/28A6FEAD-EEF3-42AA-B781-37B5CF2637C5.png" class="kg-image" alt loading="lazy" width="1832" height="192"></figure><p>The service is accessible at <a href="https://sample-api-service/?ref=blog.realvarez.com">https://sample-api-service</a>. Now let's verify the certificate also works when we access the service using <code>sample-api-service.sandbox.svc.cluster.local</code> and <code>sample-api-service.sandbox.svc.</code> names.</p><pre><code>kubectl -n sandbox get pods -l app=sample-api-client -o name \
  | xargs -I{} kubectl -n sandbox exec {} -- \
  curl -s https://sample-api-service.sandbox.svc --cacert /etc/tls/ca.crt

kubectl -n sandbox get pods -l app=sample-api-client -o name \
  | xargs -I{} kubectl -n sandbox exec {} -- \
  curl -s https://sample-api-service.sandbox.svc.cluster.local --cacert /etc/tls/ca.crt
</code></pre><figure class="kg-card kg-image-card"><img src="https://digitalpress.fra1.cdn.digitaloceanspaces.com/clrvv0c/2023/06/F3DE8CF1-1D4D-45FC-854A-4C0342CE7247.png" class="kg-image" alt loading="lazy" width="1852" height="326"></figure><p>The service is accessible at all 3 addresses.</p><p>There you have it. The communication from client to server now uses TLS encryption.</p><h2 id="cleanup">Cleanup</h2><p>Delete the resources created in this post:</p><pre><code>kubectl -n sandbox delete deployments.apps sample-api sample-api-client
</code></pre><p>If you'd like to uninstall cert-manager and cert-manager-csi-driver:</p><pre><code>helm uninstall -n cert-manager cert-manager-csi-driver 
helm uninstall -n cert-manager cert-manager
</code></pre><h2 id="conclusion">Conclusion</h2><p>In this post I showed you how to encrypt traffic in a Kubernetes cluster using cert-manager. I created a private CA and used it to generate service and client certificates. I also showed you can use cert-manager CSI driver to easily issue certificates for your applications.</p><p>If your applications need additional certificates, you can use cert-manager <a href="https://cert-manager.io/docs/projects/trust-manager/?ref=blog.realvarez.com">trust-manager</a> to inject trust bundles into your Kubernetes pods.</p>
</div>
<div class="container medium">
<div class="share u-hover-wrapper">
<a class="share-item share-facebook u-hover-item" href="https://www.facebook.com/sharer.php?u=https://realvz.github.io/blog/cert-manager-encrypt-kubernetes-service-to-service-communication-with-self-signed-certificates/" target="_blank" rel="noopener"><i class="icon icon-facebook"></i></a>
<a class="share-item share-twitter u-hover-item" href="https://twitter.com/intent/tweet?url=https://realvz.github.io/blog/cert-manager-encrypt-kubernetes-service-to-service-communication-with-self-signed-certificates/&text=Cert-Manager%3A%20Encrypt%20Kubernetes%20service%20to%20service%20communication%20with%20self-signed%20certificates" target="_blank" rel="noopener"><i class="icon icon-twitter"></i></a>
<a class="share-item share-pinterest u-hover-item" href="https://pinterest.com/pin/create/button/?url=https://realvz.github.io/blog/cert-manager-encrypt-kubernetes-service-to-service-communication-with-self-signed-certificates/&media=&description=Cert-Manager%3A%20Encrypt%20Kubernetes%20service%20to%20service%20communication%20with%20self-signed%20certificates" target="_blank" rel="noopener" data-pin-do="none"><i class="icon icon-pinterest"></i></a>
<a class="share-item share-linkedin u-hover-item" href="https://www.linkedin.com/shareArticle?mini=true&url=https://realvz.github.io/blog/cert-manager-encrypt-kubernetes-service-to-service-communication-with-self-signed-certificates/&title=Cert-Manager%3A%20Encrypt%20Kubernetes%20service%20to%20service%20communication%20with%20self-signed%20certificates" target="_blank" rel="noopener"><i class="icon icon-linkedin"></i></a>
<a class="share-item share-reddit u-hover-item" href="https://reddit.com/submit?url=https://realvz.github.io/blog/cert-manager-encrypt-kubernetes-service-to-service-communication-with-self-signed-certificates/&title=Cert-Manager%3A%20Encrypt%20Kubernetes%20service%20to%20service%20communication%20with%20self-signed%20certificates" target="_blank" rel="noopener"><i class="icon icon-reddit"></i></a>
<a class="share-item share-tumblr u-hover-item" href="https://www.tumblr.com/widgets/share/tool?canonicalUrl=https://realvz.github.io/blog/cert-manager-encrypt-kubernetes-service-to-service-communication-with-self-signed-certificates/&title=Cert-Manager%3A%20Encrypt%20Kubernetes%20service%20to%20service%20communication%20with%20self-signed%20certificates" target="_blank" rel="noopener"><i class="icon icon-tumblr"></i></a>
<a class="share-item share-vk u-hover-item" href="http://vk.com/share.php?url=https://realvz.github.io/blog/cert-manager-encrypt-kubernetes-service-to-service-communication-with-self-signed-certificates/&title=Cert-Manager%3A%20Encrypt%20Kubernetes%20service%20to%20service%20communication%20with%20self-signed%20certificates" target="_blank" rel="noopener"><i class="icon icon-vk"></i></a>
<a class="share-item share-pocket u-hover-item" href="https://getpocket.com/edit?url=https://realvz.github.io/blog/cert-manager-encrypt-kubernetes-service-to-service-communication-with-self-signed-certificates/" target="_blank" rel="noopener"><i class="icon icon-pocket"></i></a>
<a class="share-item share-telegram u-hover-item" href="https://t.me/share/url?url=https://realvz.github.io/blog/cert-manager-encrypt-kubernetes-service-to-service-communication-with-self-signed-certificates/&text=Cert-Manager%3A%20Encrypt%20Kubernetes%20service%20to%20service%20communication%20with%20self-signed%20certificates" target="_blank" rel="noopener"><i class="icon icon-telegram"></i></a>
</div> </div>
</article>
<div class="navigation container medium">
<div class="navigation-item navigation-previous">
<a class="navigation-item-link button-arrow button-arrow-left" href="/get-more-out-of-gpus-with-nvidia-multi-instance-gpu/">
<i class="button-arrow-icon icon icon-arrow-left"></i> Previous Post
</a>
</div>
</div> <section class="related-posts container medium">
<h3 class="related-title"><span class="text">You might also like...</span></h3>
<div class="row">
<div class="col-md-4 related-column">
<article class="post tag-nvidia tag-machine-learning tag-amazon-eks tag-kubernetes">
<figure class="post-media">
<div class="u-placeholder rectangle">
<a class="post-image-link" href="/get-more-out-of-gpus-with-nvidia-multi-instance-gpu/">
<img class="post-image lazyload u-object-fit" data-srcset="https://images.unsplash.com/photo-1536620752150-a7e9e62a62ee?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDI5fHx2ZXJ0aWNhbCUyMGxpbmVzfGVufDB8fHx8MTY4NDg4NDU5OHww&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;400 400w, https://images.unsplash.com/photo-1536620752150-a7e9e62a62ee?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDI5fHx2ZXJ0aWNhbCUyMGxpbmVzfGVufDB8fHx8MTY4NDg4NDU5OHww&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;750 750w, https://images.unsplash.com/photo-1536620752150-a7e9e62a62ee?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDI5fHx2ZXJ0aWNhbCUyMGxpbmVzfGVufDB8fHx8MTY4NDg4NDU5OHww&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;960 960w, https://images.unsplash.com/photo-1536620752150-a7e9e62a62ee?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDI5fHx2ZXJ0aWNhbCUyMGxpbmVzfGVufDB8fHx8MTY4NDg4NDU5OHww&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;1140 1140w, https://images.unsplash.com/photo-1536620752150-a7e9e62a62ee?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDI5fHx2ZXJ0aWNhbCUyMGxpbmVzfGVufDB8fHx8MTY4NDg4NDU5OHww&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;1920 1920w" data-sizes="auto" src="https://images.unsplash.com/photo-1536620752150-a7e9e62a62ee?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDI5fHx2ZXJ0aWNhbCUyMGxpbmVzfGVufDB8fHx8MTY4NDg4NDU5OHww&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;960" srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Run more pods per GPU with NVIDIA Multi-Instance GPU">
</a>
</div>
</figure>
<header class="post-header">
<h2 class="post-title">
<a class="post-title-link" href="/get-more-out-of-gpus-with-nvidia-multi-instance-gpu/">Run more pods per GPU with NVIDIA Multi-Instance GPU</a>
</h2>
<div class="post-meta">
<span class="post-meta-item post-meta-date">
<time datetime="2023-05-23">May 23, 2023</time>
</span>
<span class="post-meta-item post-meta-length">
10 min read
</span>
<span class="post-meta-item post-meta-tags">
<a class="post-tag post-tag-nvidia" href="/tag/nvidia/" title="NVIDIA">NVIDIA</a><a class="post-tag post-tag-machine-learning" href="/tag/machine-learning/" title="Machine Learning">Machine Learning</a><a class="post-tag post-tag-amazon-eks" href="/tag/amazon-eks/" title="Amazon EKS">Amazon EKS</a><a class="post-tag post-tag-kubernetes" href="/tag/kubernetes/" title="Kubernetes">Kubernetes</a>
</span>
</div>
</header> </article>
</div>
<div class="col-md-4 related-column">
<article class="post tag-amazon-eks tag-cost tag-kubernetes tag-scaling">
<figure class="post-media">
<div class="u-placeholder rectangle">
<a class="post-image-link" href="/reduce-amazon-eks-cost-by-scaling-node-groups-to-zero/">
<img class="post-image lazyload u-object-fit" data-srcset="https://images.unsplash.com/photo-1591617870684-6e861e6a48ad?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwxMTc3M3wwfDF8c2VhcmNofDR8fGdyYXBofGVufDB8fHx8MTY2ODYyODQ5Ng&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;400 400w, https://images.unsplash.com/photo-1591617870684-6e861e6a48ad?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwxMTc3M3wwfDF8c2VhcmNofDR8fGdyYXBofGVufDB8fHx8MTY2ODYyODQ5Ng&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;750 750w, https://images.unsplash.com/photo-1591617870684-6e861e6a48ad?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwxMTc3M3wwfDF8c2VhcmNofDR8fGdyYXBofGVufDB8fHx8MTY2ODYyODQ5Ng&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;960 960w, https://images.unsplash.com/photo-1591617870684-6e861e6a48ad?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwxMTc3M3wwfDF8c2VhcmNofDR8fGdyYXBofGVufDB8fHx8MTY2ODYyODQ5Ng&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;1140 1140w, https://images.unsplash.com/photo-1591617870684-6e861e6a48ad?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwxMTc3M3wwfDF8c2VhcmNofDR8fGdyYXBofGVufDB8fHx8MTY2ODYyODQ5Ng&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;1920 1920w" data-sizes="auto" src="https://images.unsplash.com/photo-1591617870684-6e861e6a48ad?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwxMTc3M3wwfDF8c2VhcmNofDR8fGdyYXBofGVufDB8fHx8MTY2ODYyODQ5Ng&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;960" srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Reduce Amazon EKS cost by scaling node groups to zero">
</a>
</div>
</figure>
<header class="post-header">
<h2 class="post-title">
<a class="post-title-link" href="/reduce-amazon-eks-cost-by-scaling-node-groups-to-zero/">Reduce Amazon EKS cost by scaling node groups to zero</a>
</h2>
<div class="post-meta">
<span class="post-meta-item post-meta-date">
<time datetime="2022-11-16">Nov 16, 2022</time>
</span>
<span class="post-meta-item post-meta-length">
5 min read
</span>
<span class="post-meta-item post-meta-tags">
<a class="post-tag post-tag-amazon-eks" href="/tag/amazon-eks/" title="Amazon EKS">Amazon EKS</a><a class="post-tag post-tag-cost" href="/tag/cost/" title="Cost">Cost</a><a class="post-tag post-tag-kubernetes" href="/tag/kubernetes/" title="Kubernetes">Kubernetes</a><a class="post-tag post-tag-scaling" href="/tag/scaling/" title="Scaling">Scaling</a>
</span>
</div>
</header> </article>
</div>
<div class="col-md-4 related-column">
<article class="post tag-amazon-eks tag-kubernetes tag-scaling">
<figure class="post-media">
<div class="u-placeholder rectangle">
<a class="post-image-link" href="/autoscale-kubernetes-metrics-server/">
<img class="post-image lazyload u-object-fit" data-srcset="https://images.unsplash.com/photo-1616085290809-064fcf10dc4a?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwxMTc3M3wwfDF8c2VhcmNofDN8fGV4cGFuZHxlbnwwfHx8fDE2Njc1MDg5MTk&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;400 400w, https://images.unsplash.com/photo-1616085290809-064fcf10dc4a?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwxMTc3M3wwfDF8c2VhcmNofDN8fGV4cGFuZHxlbnwwfHx8fDE2Njc1MDg5MTk&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;750 750w, https://images.unsplash.com/photo-1616085290809-064fcf10dc4a?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwxMTc3M3wwfDF8c2VhcmNofDN8fGV4cGFuZHxlbnwwfHx8fDE2Njc1MDg5MTk&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;960 960w, https://images.unsplash.com/photo-1616085290809-064fcf10dc4a?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwxMTc3M3wwfDF8c2VhcmNofDN8fGV4cGFuZHxlbnwwfHx8fDE2Njc1MDg5MTk&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;1140 1140w, https://images.unsplash.com/photo-1616085290809-064fcf10dc4a?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwxMTc3M3wwfDF8c2VhcmNofDN8fGV4cGFuZHxlbnwwfHx8fDE2Njc1MDg5MTk&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;1920 1920w" data-sizes="auto" src="https://images.unsplash.com/photo-1616085290809-064fcf10dc4a?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwxMTc3M3wwfDF8c2VhcmNofDN8fGV4cGFuZHxlbnwwfHx8fDE2Njc1MDg5MTk&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;960" srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Autoscale Kubernetes Metrics Server">
</a>
</div>
</figure>
<header class="post-header">
<h2 class="post-title">
<a class="post-title-link" href="/autoscale-kubernetes-metrics-server/">Autoscale Kubernetes Metrics Server</a>
</h2>
<div class="post-meta">
<span class="post-meta-item post-meta-date">
<time datetime="2022-11-03">Nov 3, 2022</time>
</span>
<span class="post-meta-item post-meta-length">
6 min read
</span>
<span class="post-meta-item post-meta-tags">
<a class="post-tag post-tag-amazon-eks" href="/tag/amazon-eks/" title="Amazon EKS">Amazon EKS</a><a class="post-tag post-tag-kubernetes" href="/tag/kubernetes/" title="Kubernetes">Kubernetes</a><a class="post-tag post-tag-scaling" href="/tag/scaling/" title="Scaling">Scaling</a>
</span>
</div>
</header> </article>
</div>
</div>
</section>
</main>
</div>
</div>
<footer class="site-footer container large">
<div class="copyright">
Powered by <a href="https://ghost.org/" target="_blank" rel="noopener">Ghost</a>
</div>
<nav class="footer-nav">
<ul class="nav-list u-plain-list">
<li class="menu-item menu-item-sign-up"><a class="menu-item-link" href="https://realvz.github.io/blog/#/portal/">Sign up</a></li>
</ul>
</nav>
<div class="footer-social">
<a class="footer-social-item footer-social-item-twitter" href="https://twitter.com/realz" target="_blank" rel="noopener" aria-label="Twitter">
<i class="icon icon-twitter"></i>
</a>
<a class="footer-social-item footer-social-item-rss" href="https://feedly.com/i/subscription/feed/https://realvz.github.io/blog/rss/" target="_blank" rel="noopener" aria-label="RSS">
<i class="icon icon-rss"></i>
</a>
</div>
</footer> </div>
<div class="dimmer"></div>
<div class="off-canvas">
<div class="canvas-close">
<i class="canvas-icon icon icon-window-close"></i>
</div>
<div class="mobile-menu"></div>
</div>
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous">
    </script>
<script src="/assets/built/main.min.js?v=ce0a9a97d4"></script>
</body>
</html>